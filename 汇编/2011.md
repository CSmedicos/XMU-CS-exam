```asm
code segment
此处省略前面的初始化
mov ax,b
imul c
mov cx,ax
mov bx,dx
mov ax,a
cwd
add cx,ax
adc bx,dx
mov ax,120
cwd
sub ax,cx
sbb dx,bx
idiv d
mov E,ax
mov E+2,dx
code ends
```

## 2011

### 2、（填空题）

1、无答案版

仓库管理中，存有有关库存品的编号、名称情况的表格，根据用户提供的编号可以找到有关材料名。假设表格中共有六种库存品，以下程序可根据用户提供的两位编号在终端上显示其名称。
```
datasg segment para 'data'
mess1 db 'stock number?', 13, 10, '$';
;
stoknin label byte
 1)
 2)
 3)
;
stoktab db '05', 'Excavtors '
db '08', 'Lifters '
db '09', 'Presses '
db '12', 'Vavles '
db '23', 'Processors '
db '27', 'Pumps '
;
descrn db 14 dup(20h), 13, 10, '$'
mess db 'Not in table!', '$'
datasg ends
;***********************************************
codesg segment para 'code'
assume cs: codesg, ds: datasg, es: datasg
;-----------------------------------------------
main proc far
push ds
sub ax, ax
push ax
mov ax, datasg
mov ds, ax
4)
start:
lea dx, mess1
mov ah, 09
int 21h
lea dx, stoknin
mov ah, 0ah
int 21h
cmp act, 0
 5)
mov al, stokn
mov ah, stokn+1
mov cx, 06
lea si, stoktab
a20:
cmp ax, word ptr [si]
 6)
add si, 14
 7)
lea dx, mess
mov ah, 09
int 21h
jmp exit
a30:
 8)
 9)
 10)
;
lea dx, descrn
mov ah, 09
int 21h
jmp start
exit:
ret
main endp
;----------------------------------------------
codesg ends
;**********************************************
end main
```
2、答案版

```
datasg segment para 'data'
mess1 db 'stock number?', 13, 10, '$';
;
stoknin label byte
 1)max db 3
 2)act db ?
 3)stokn db 3 dup(?);这里标准答案是5 dup(?)，我不理解
;
stoktab db '05', 'Excavtors '
db '08', 'Lifters '
db '09', 'Presses '
db '12', 'Vavles '
db '23', 'Processors '
db '27', 'Pumps '
;
descrn db 14 dup(20h), 13, 10, '$'
mess db 'Not in table!', '$'
datasg ends
;***********************************************
codesg segment para 'code'
assume cs: codesg, ds: datasg, es: datasg
;-----------------------------------------------
main proc far
push ds
sub ax, ax
push ax
mov ax, datasg
mov ds, ax
4)mov es,ax
start:
lea dx, mess1
mov ah, 09
int 21h
lea dx, stoknin
mov ah, 0ah
int 21h
cmp act, 0
5)jle exit
mov al, stokn
mov ah, stokn+1
mov cx, 06
lea si, stoktab
a20:
cmp ax, word ptr [si]
6)jz a30
add si, 14
7)loop a20
lea dx, mess
mov ah, 09
int 21h
jmp exit
a30:
 8)lea di,descrn
 9)mov cx,14
 10)rep movsb
;
lea dx, descrn
mov ah, 09
int 21h
jmp start
exit:
ret
main endp
;----------------------------------------------
codesg ends
;**********************************************
end main
```
### 3、
已知 A, B, C, D 为 16 位带符号数，请编写程序段计算 [120 - (A + B * C)] / D，并将商和余数依次保存到以 E 开头的连续两个字空间中。（20分）

```
data segment
E dw 2 dup(?)
data ends
code segment
此处省略前面的初始化
mov ax,b
imul c
mov cx,ax
mov bx,dx
mov ax,a
cwd
add cx,ax
adc bx,dx
mov ax,120
cwd
sub ax,cx
sbb dx,bx
idiv d
mov E,ax
mov E+2,dx
code ends
```
