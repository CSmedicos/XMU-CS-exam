## 8.11
假设在一个计算机系统中：
(1)每页为32KB，Cache块大小为128字节；
(2)对应新页的地址不在Cache中，CPU不访问新页中的任何数据
(3)Cache中95%的被替换块将再次被读取，并引起一次失效；
(4)Cache使用写回方法，平均60%的块被修改过；
(5)I/O系统缓冲能够存储一个完整的Cache块；
(6)访问或失效在所有Cache块中均匀分布；
(7)在CPU和I/O之间，没有其它访问Cache的干扰；
(8)无I/O时，每100万个时钟周期内有18000次失效；
(9)失效开销是40个时钟周期。如果被替换的块被修改过，则再加上30个周期用于写回主存；
(10)假设计算机平均每200万个周期处理一页。
试分析I/O对于性能的影响有多大？

### 分析过程 

#### 1. 基础计算
- **每页块数**：32KB/128B=256块  
（一页由256个Cache块组成）

#### 2. I/O替换代价
- **修改块写回时间**：  
替换时60%的块被修改过 → 256×60% = 153.6块  
每块写回需30周期 → 153.6×30 = **4,608周期**

- **二次失效代价**：  
被替换块中95%会再被访问 → 256×95% = 243.2次失效
新页数据来自I/O且未被CPU访问 → 所有块视为修改过（需40周期失效+30周期写回） → 243.2×70 = **17,080周期**

#### 3. 无I/O时的基准性能
- **原始失效开销**：  
每200万周期有36,000次失效（100万周期18,000次 ×2）  
未修改块（40%）处理时间：36,000×40%×40 = 576,000周期  
修改块（60%）处理时间：36,000×60%×70 = 1,512,000周期  
**总开销**：576k+1,512k = **2,088,000周期**

#### 4. 性能影响比例
- **I/O额外开销**：4,608+17,080 = **21,688周期**  
- **总处理周期**：200万（CPU）+2,088,000（Cache失效）= **4,088,000周期**  
- **影响比例**：21,688/4,088,000 ≈ **0.53%**

## 8.12
假设某网络型RAID包括6个SCSI系统，采用RAID1+0结构，对给定时间t，各部分的可靠度为：网络接口通道NIC R1=0.9,阵列控制器 R2=0.95，SCSI通道适配器R3=0.95,磁盘R4=0.8
![alt text](image-22.png)
(1)系统的可靠性框图
(2)系统可靠性R的表达式，计算R的值
![alt text](image-23.png)
(3)增加系统可靠性的若干建议
答：采用双控制器、双SCSI适配器、提高数据冗余度、网路通道冗余度、提高各部分器件可靠度。