# 一、
## 1、
速率调度算法的充分和必要条件

1. **必要条件**：![alt text](image.png)

2. **充分条件**![alt text](image-1.png)

## 2、
若一个进程的虚地址v和实地址r之间满足关系r=v+n*z，其中z为页面大小，n为自然数。请给
出该进程物理帧号f与页面号p之间的关系。
![alt text](image-3.png)
![alt text](image-4.png)

这道题目涉及到操作系统中进程管理和内存管理的概念。题目问的是，在同一个进程中进行线程切换时，是否会对以下三个方面产生影响：

## 3、
同一个进程中线程的切换，会导致TLB全部失效吗？会导致页表更换吗？会引起堆栈切换吗？
【参考答案】不会，不会，会
1. **TLB（Translation Lookaside Buffer，翻译后备缓冲区）**：TLB 是 CPU 中用于缓存虚拟地址到物理地址映射关系的一个高速缓存。当发生线程切换时，如果线程属于同一个进程，那么它们的虚拟地址空间是相同的，因此 TLB 中的映射关系仍然有效，不需要全部失效。

2. **页表**：页表是操作系统用来存储虚拟内存到物理内存映射关系的表格。对于同一个进程中的线程切换，页表通常不需要更换，因为所有线程共享相同的虚拟地址空间和页表。

3. **堆栈切换**：每个线程都有自己的堆栈空间，用于存储函数调用时的局部变量、参数和返回地址等。当线程切换时，需要保存当前线程的堆栈状态，并加载下一个线程的堆栈状态，这称为堆栈切换。

题目给出的参考答案是：
- 不会导致 TLB 全部失效（因为虚拟地址空间没有变化）。
- 不会导致页表更换（因为所有线程共享相同的页表）。
- 会引起堆栈切换（因为每个线程有自己的堆栈空间）。

所以，答案是：不会，不会，会。

## 4、
9、在Lamport 的分布式互斥算法中,如果消息(Request,T:,j)和(Release,T2,i)的时间戳满足条件T1<T2那么进程P，是否必须向进程P发送Reply消息？为什么？

【参考答案】不必。发送的Reply消息的时问戳必定大于Release消息,因此发送或不发送Reply 对进程
P的Request 的消息排序都不会有影响。

PS:

(Request, T1, j)：表示进程 Pj发送了一个请求消息，请求访问共享资源，其中 T1 是发送请求的时间戳，j 是请求的标识。

(Release, T2, i)：表示进程 Pi 发送了一个释放消息，释放对共享资源的访问，其中 T2 是发送释放消息的时间戳，i 是释放的标识。

题目中提到的条件T1<T2表示进程Pj发送请求消息的时间早于进程Pi发送释放消息的时间。

## 5、
动态内存分配与分页内存分配的主要缺点是什么？如何解决？

书208页：compaction:压缩

## 6、
进程共享9台磁带机。每个进程每次只申请或释放1台磁带机,并且在运行时最多需要3台磁带机.
问：在保证不死锁的前提下，最多允许多少个进程同时运行?
【参考答案】4个。

(3-1)*n+1<=9

n=4

9/3+1吗

## 7、
当进程执行系统调用时,需要改变这个进程的执行模式吗?
【参考答案】需要。
用户态改成内核态？

## 8
15、在事务型应用(即存在多个并发的I/O,每次1/O的数据量不大)中,RAID0的条块尺寸是大些好还
是小些好?对于大数据传输呢?

【参考答案】事务型应用:大些好。大数据传输:小些好
看不懂：有人看懂了吗

在事务型应用中，RAID0的条块尺寸选择较大的尺寸（如128KB或256KB）较好，因为这种应用场景下存在多个并发的I/O操作，且每次I/O的数据量不大。较大的条块尺寸可以减少对磁盘的访问次数，从而提高性能。

然而，对于大数据传输，较小的条块尺寸（如4KB或8KB）更合适，因为大数据传输通常涉及大文件的顺序读写，较小的条块尺寸可以减少磁盘碎片，提高存储效率，并减少因条块过大导致的存储空间浪费。

# 二、
在一个UNIX类操作系统的文件系统中,i-结点有10个直接地址域和3个间接地址域(3级间接地址):
一个逻辑块的容量是1K字节:磁盘块指针为4个字节,其中3个字节存放磁盘块的地址。间:如果文件
长度为512KB且文件中不存在空洞,则需要用到几级间接地址?如果磁盘容量足够大，这个文件系统是否
可以存储一个16GB+32KB大小的文件？为什么？
【参考答案】2个；不可以：2?4*1KB=1GB<16GB。

1K/4=2^8=256，所以每个快保存256个地址

![alt text](image-8.png)
256K<512K
所以要两个间接地址

第二问不知道


# 五、
![alt text](image-2.png)
![alt text](fe5797153da9d5b9833b7dc44022ec9.jpg)